<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<meta name="viewport"
	      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"/>
	<script src="../dist/js/villa.js"></script>
	<link rel="stylesheet" href="../dist/css/villa.min.css"/>
	<link rel="stylesheet" href="../dist/css/mowe.min.css"/>
	<!--[if lt IE 9]>
	<link rel="stylesheet" type="text/css" href="../dist/css/villac.css"/>
	<link rel="stylesheet" type="text/css" href="../dist/css/material-colors.css"/>
	<script src="../dist/js/html5shiv.js"></script>
	<script src="../dist/js/html5shiv-printshiv.js"></script>
	<![endif]-->
</head>
<body>

<div class="timeline">
	<div id="room" class="room">
		<div id="e01" class="event"><div class="title"><span>a</span></div></div>
		<div id="e02" class="event"><div class="title"><span>b</span></div></div>
		<div id="e03" class="event"><div class="title"><span>c</span></div></div>
		<div id="e04" class="event"><div class="title"><span>c</span></div></div>
		<div id="e05" class="event"><div class="title"><span>c</span></div></div>
		<div id="e06" class="event"><div class="title"><span>c</span></div></div>
	</div>
</div>

<script>

	var events = [
		{
			title: 'test',
			start: '2015-06-22T03:00:00.000Z',
			end: '2015-06-22T04:00:00.000Z'
		},
		{
			title: 'test',
			start: '2015-06-22T04:00:00.000Z',
			end: '2015-06-22T05:00:00.000Z'
		},
		{
			title: 'test',
			start: '2015-06-22T06:00:00.000Z',
			end: '2015-06-22T07:00:00.000Z'
		},
		{
			title: 'test',
			start: '2015-06-22T06:00:00.000Z',
			end: '2015-06-22T07:00:00.000Z'
		},
		{
			title: 'test',
			start: '2015-06-22T09:00:00.000Z',
			end: '2015-06-22T11:00:00.000Z'
		},
		{
			title: 'test',
			start: '2015-06-22T13:00:00.000Z',
			end: '2015-06-22T14:00:00.000Z'
		}
	];

	var a, b, c, d, e, f, g, h, r, rs;

	a = new Date();
	b = a.getTimezoneOffset();
	r = document.getElementById('room');
	rs = 0;

	for (var i = events.length; i--; ) {
		// get the start time
		c = new Date(events[i].start);
		// get the end time
		e = new Date(events[i].end);

		// get the offset size
		d = Math.round((c - a) / 1000 / 60) + b;

		// get the element size
		f = Math.round((e - c) / 1000 / 60);

		// get the min size of room
		h = d + f;

		// get element
		g = document.getElementById('e0' + (i + 1));
		g.style.left = d + 'px';
		g.style.width = f + 'px';

		if (rs < h)
			rs = h;
	}

	// set room line size
	r.style.width = rs + 'px';

	// reset scroll to start
	r.scrollLeft = 0;

</script>

<style scoped="scoped">

	.timeline {
		height: 120px;
		overflow-x: scroll;
		white-space: nowrap;
		width: 100%;
	}

	.timeline .room {
		position: relative;
	}

	.timeline .room .event {
		position: absolute;
		display: inline-block;
		height: 3em;
	}

	.timeline .room .event .title {
		background-color: #f44336;
		color: #ffffff;
		display: flex;
		justify-content: center;
		align-items: center;
		height: 100%;
		opacity: .9;
		width: 100%;
	}


</style>

</body>
</html>